(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7092],{2544:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ea});var n=i(95155),o=i(263),r=i(41186),l=i(72478),a=i(15008),s=i(12115),d=i(87295),c=i(99354),x=i(2300),p=i(10909),g=i(91871),h=i(25635),u=i(50119),f=i(53756),m=i(41602),S=i(73707),b=i(17681),A=i(50430),j=i(62962),y=i(63186),v=i(56164),C=i(98672),E=i(39625),T=i(66637);let I=e=>{let{patient:t}=e,[i,r]=(0,s.useState)(!1),{gender:l}=(0,d.gd)(),{patientId:a,hasActiveVisit:c}=(0,d.gd)(),{data:x,isLoading:I}=(0,T.$O)(a),{navigateTo:w}=(0,d.cq)(),[D,N]=(0,s.useState)(null),{isOnList:F}=(0,d.lT)(null==t?void 0:t.id),{setActiveStep:O}=(0,s.useContext)(C.X2),[R,_]=(0,s.useState)({templateForms:!1,consultation:!1}),[k,M]=(0,s.useState)("");(0,s.useEffect)(()=>{!I&&x&&(e=>{var t;let i=null==x?void 0:x.find(t=>{var i;return(null==t||null==(i=t.encounter_type)?void 0:i.uuid)===e});if(!i)return;let n=new Map;(i.obs||[]).forEach(e=>{let{concept_id:t,obs_datetime:i}=e,o=n.get(t);(!o||new Date(i)>new Date(o.obs_datetime))&&n.set(t,e)}),M(null==(t=Array.from(n.values())[0])?void 0:t.value)})(o.fA.OUTPATIENT_DIAGNOSIS)},[I,x]);let P=()=>{N(null)},G=e=>{P(),w(e)},L=[{label:"Medical Inpatient Admission Sheet",path:"/patient/".concat(t.id,"/medicalInpatient")},{label:"Surgical Notes",path:"/patient/".concat(t.id,"/surgicalNotes")},..."Female"===l?[{label:"Gynaecology Ward Admission",path:"/patient/".concat(t.id,"/gyneacology")}]:[]],W=[{label:"Monitoring Chart",path:"/patient/".concat(t.id,"/nursingChart")},{label:"Nursing Care Notes (SOAPIER)",path:"/patient/".concat(t.id,"/soap")},{label:"Primary Survey",path:"/patient/".concat(t.id,"/primary-assessment")},{label:"SAMPLE History",path:"/patient/".concat(t.id,"/medicalHistory")},{label:"Secondary Survey",path:"/patient/".concat(t.id,"/secondary-assessment")},{label:"Differential Diagnosis",path:"/patient/".concat(t.id,"/differential-diagnosis")},{label:"Investigations Plan",path:"/patient/".concat(t.id,"/investigations")},{label:"Final Diagnosis",path:"/patient/".concat(t.id,"/final-diagnosis")},{label:"Patient Management Plan",path:"/patient/".concat(t.id,"/patient-management-plan")},{label:"Continuation Sheet",path:"/patient/".concat(t.id,"/continuationSheet")},{label:"Disposition",path:"/patient/".concat(t.id,"/disposition")}];return(0,n.jsxs)(p.default,{children:[(0,n.jsx)("style",{children:"\n          .listItemButton {\n            gap: 10px !important;\n            line-height: 1 !important;\n            border-bottom: 1px solid #ccc !important;\n          } \n          .nestedMenuItem {\n            padding-left: 32px !important;\n          }\n        "}),(0,n.jsxs)(g.A,{sx:{backgroundColor:"#FECDCA",color:"#B42318",borderRadius:"9999px",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",textTransform:"none",maxWidth:300,justifyContent:"flex-start",paddingRight:"20px","&:hover":{backgroundColor:"#FFA6A0"}},children:[(0,n.jsx)(h.default,{component:"span",fontWeight:"bold",mr:.5,noWrap:!0,children:"Final Diagnosis:"}),(0,n.jsx)(p.default,{component:"span",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-block",maxWidth:"calc(100% - 130px)",verticalAlign:"bottom"},title:k,children:k})]}),(0,n.jsx)(g.A,{disabled:!c,variant:"outlined",onClick:()=>r(!0),sx:{backgroundColor:"rgb(221, 238, 221)",color:"rgb(0, 70, 0)",borderRadius:"9999px",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"calc(100% - 40px)","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:"Start CPR"}),(0,n.jsxs)(u.A,{variant:"contained",disabled:!c,sx:{borderRadius:"9999px",overflow:"hidden",minWidth:"130px","& .MuiButtonGroup-grouped:not(:last-of-type)":{borderRight:0}},children:[(0,n.jsx)(g.A,{sx:{backgroundColor:"#006401",color:"white",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"calc(100% - 40px)","&:hover":{backgroundColor:"#004d00"}},children:"Start Assessment"}),(0,n.jsx)(g.A,{onClick:e=>{N(e.currentTarget)},sx:{backgroundColor:"#008000",color:"white",borderLeft:"1px solid #135a14",fontSize:"14px",padding:"0px",minWidth:"unset",width:"40px","&:hover":{backgroundColor:"#006b00"}},children:(0,n.jsx)(h.default,{sx:{fontSize:"18px"},children:"â–¾"})})]}),(0,n.jsx)(f.A,{anchorEl:D,open:!!D,onClose:P,PaperProps:{style:{borderRadius:"10px",marginTop:"105px"}},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:(0,n.jsxs)(m.A,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[W.map((e,t)=>(0,n.jsxs)(S.A,{onClick:()=>G(e.path),className:"listItemButton",children:[(0,n.jsx)(v.OiG,{}),(0,n.jsx)(b.A,{primary:e.label})]},t)),(0,n.jsxs)(S.A,{onClick:()=>(e=>{_(t=>({...t,[e]:!t[e]}))})("templateForms"),className:"listItemButton",children:[(0,n.jsx)(v.OiG,{}),(0,n.jsx)(b.A,{primary:"Template Forms"}),R.templateForms?(0,n.jsx)(j.A,{}):(0,n.jsx)(y.A,{})]}),(0,n.jsx)(A.A,{in:R.templateForms,timeout:"auto",unmountOnExit:!0,children:(0,n.jsx)(m.A,{component:"div",disablePadding:!0,children:L.map((e,t)=>(0,n.jsxs)(S.A,{onClick:()=>G(e.path),className:"listItemButton nestedMenuItem",children:[(0,n.jsx)(v.OiG,{}),(0,n.jsx)(b.A,{primary:e.label})]},"template-".concat(t)))})})]})}),(0,n.jsx)(E.w8,{open:i,onClose:()=>{r(!1)}})]})},w=()=>{let{isLoading:e,vitals:t}=(0,d.zg)(),{params:i}=(0,d.KU)();return e?(0,n.jsx)(c.E7,{height:120}):(0,n.jsxs)(x.default,{elevation:3,children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.2rem",padding:"1ch"},children:"Most recent Vitals & Biometrics"}),(0,n.jsx)("div",{style:{padding:"1ch"},children:(0,n.jsx)(I,{patient:i})})]}),(0,n.jsx)("div",{style:{overflowX:"scroll",marginLeft:"10px",marginRight:"10px"},children:(0,n.jsx)(l.jD,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",padding:"1ch",minWidth:"854px"},children:t.map(e=>{let{name:t,value:i}=e;return(0,n.jsx)(D,{title:t,value:i},"".concat(i).concat(t))})})})]})},D=e=>{let{title:t,value:i}=e;return(0,n.jsx)(l.jD,{sx:{display:"flex",flexDirection:"column"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Th,{style:{marginBottom:" 15px",fontSize:"14px",padding:"10px"},variant:"caption",textAlign:"center",children:t}),(0,n.jsx)(l.Th,{sx:{fontWeight:"bold",padding:"5px"},variant:"h5",textAlign:"center",children:i})]})})};var N=i(43676),F=i(26466),O=i(1807),R=i(52375),_=i(4190);let k=()=>{let{params:e}=(0,d.KU)(),{data:t,refetch:i}=(0,T.$O)(e.id,"encounter_type=".concat(o.fA.OUTPATIENT_DIAGNOSIS)),[r,l]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(t){let e=t.flatMap(e=>e.obs.map(e=>{var t,i,n;return{id:e.obs_id.toString(),condition:null!=(n=e.value_text)?n:"",obsDatetime:e.obs_datetime||"",diagnosisType:(null==(t=e.names[0])?void 0:t.name.toLowerCase().includes("differential"))?"Differential Diagnosis":null==(i=e.names[0])?void 0:i.name,diagnosis:e.names}}));console.log({object:e}),l(e)}},[t]),(0,n.jsx)(_.Z,{title:"Diagnosis",children:(0,n.jsx)(R.q,{columns:[{label:"Condition",field:"condition"},{label:"Diagnosis Type",field:"diagnosisType"}],data:r})})};var M=i(7047);let P=e=>{let{children:t,level:i=1}=e,o=Array.isArray(t)?t:t?[t]:[];return o.length?(0,n.jsx)("div",{style:{paddingLeft:"".concat(16*i,"px")},children:o.map((e,t)=>{let o=null;return"string"==typeof(null==e?void 0:e.item)?o=e.bold?(0,n.jsx)("strong",{children:e.item}):e.item:(null==e?void 0:e.item)&&"object"==typeof e.item&&(o=(0,n.jsx)(n.Fragment,{children:Object.entries(e.item).map((t,i,o)=>{let[r,l]=t;return(0,n.jsxs)("span",{children:[e.bold?(0,n.jsx)("strong",{children:r}):r,": ",l,i<o.length-1&&", "]},i)})})),(0,n.jsxs)("div",{style:{marginBottom:"4px"},children:[o&&(0,n.jsxs)("div",{children:["- ",o]}),(null==e?void 0:e.children)&&(0,n.jsx)(P,{children:e.children,level:i+1})]},t)})}):null},G=e=>{let{data:t=[],columns:i=2}=e;return Array.isArray(t)&&0!==t.length?(0,n.jsx)("div",{style:{fontFamily:"Arial, sans-serif",lineHeight:1.6},children:(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(i,", 1fr)"),gap:"1rem"},children:Array.from({length:i}).map((e,o)=>(0,n.jsx)("div",{children:t.filter((e,t)=>t%i===o).map((e,t)=>(0,n.jsxs)("div",{style:{marginBottom:"2rem",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",padding:"1rem"},children:[(0,n.jsx)("h4",{style:{marginBottom:"0.5rem"},children:(0,n.jsx)("strong",{children:e.title})}),e.content&&(0,n.jsx)(n.Fragment,{children:Array.isArray(e.content)?e.content.map((e,t)=>(0,n.jsxs)("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#f9f9f9",borderRadius:"6px"},children:[(null==e?void 0:e.heading)&&(0,n.jsxs)("strong",{children:["- ",(null==e?void 0:e.heading)||"Untitled Section"]}),(0,n.jsx)(P,{children:null==e?void 0:e.children}),(0,n.jsx)("div",{style:{color:"#7f8c8d",fontSize:"14px",letterSpacing:"0.2px",marginTop:"8px",fontStyle:"italic"},children:e.user})]},t)):(0,n.jsx)("div",{children:e.content})})]},t))},o))})}):null};var L=i(24364),W=i(23113),B=i(83159),z=i(26301),U=i(70856);let Y=e=>{let{obs:t}=e;return t.map(e=>(0,n.jsxs)("div",{style:{marginBottom:"1ch"},children:[(0,n.jsx)("p",{style:{whiteSpace:"pre-wrap",margin:0},children:(0,n.jsx)(U.oz,{children:e.value})}),(0,n.jsxs)("div",{style:{color:"#7f8c8d",fontSize:"14px",letterSpacing:"0.2px",marginTop:"8px",fontStyle:"italic"},children:["~ ",e.created_by," -"," ",(0,z.rX)(e.obs_datetime||new Date)]})]},e.uuid))};var H=i(38230),X=i(88538);let K=e=>{let{onAddNote:t,filterSoapierState:i,filterAETCState:o,filterSurgicalState:r,filterGyneacologyState:l,filterMedicalInpatientState:a,setFilterSoapierState:c,setFilterAETCState:x,setFilterSurgicalState:h,setFilterGyneacologyState:u,setFilterMedicalInpatientState:f,onDownload:m,surgicalData:S,gyneacologyData:b,medicalInpatientData:A,onClickFilterButton:j}=e,{hasActiveVisit:y}=(0,d.gd)(),[v,C]=(0,s.useState)(null),E=!!v,{gender:T}=(0,d.gd)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.default,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",mb:2,width:"100%"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)(g.A,{onClick:m,sx:{color:"white",backgroundColor:"primary.main",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"110px","&:hover":{backgroundColor:"rgb(0, 70, 0)"}},children:"Download PDF"}),(0,n.jsx)("span",{style:{width:"10px",borderRight:"1px solid #000",marginRight:"10px",height:"30px",paddingTop:"5px",paddingBottom:"5px"}}),(0,n.jsx)(g.A,{onClick:()=>{c(!0),x(!1),h(!1),u(!1),f(!1),j("SOAPIER")},sx:{backgroundColor:i?"rgb(221, 238, 221)":"",color:"rgb(0, 70, 0)",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:"SOAPIER Notes"}),(0,n.jsx)(g.A,{onClick:()=>{x(!0),c(!1),h(!1),u(!1),f(!1),j("AETC")},sx:{backgroundColor:o?"rgb(221, 238, 221)":"",color:"rgb(0, 70, 0)",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"110px","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:"AETC"}),(0,n.jsx)(g.A,{onClick:()=>{h(!0),c(!1),x(!1),u(!1),f(!1)},sx:{backgroundColor:r?"rgb(221, 238, 221)":"",color:"rgb(0, 70, 0)",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:"Surgical Notes"}),"Female"===T&&(0,n.jsxs)(g.A,{onClick:()=>{u(!0),h(!1),f(!1),c(!1),x(!1)},sx:{backgroundColor:l?"rgb(221, 238, 221)":"",color:"rgb(0, 70, 0)",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:["Gyneacology"," "]}),(0,n.jsxs)(g.A,{onClick:()=>{f(!0),u(!1),h(!1),c(!1),x(!1)},sx:{backgroundColor:a?"rgb(221, 238, 221)":"",color:"rgb(0, 70, 0)",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"120px","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:["Medical Inpatient"," "]}),(0,n.jsx)(g.A,{onClick:()=>{c(!1),x(!1),h(!1),u(!1),f(!1),j("All")},sx:{backgroundColor:i||o||r||l||a?"":"rgb(221, 238, 221)",color:"rgb(0, 70, 0)",border:"1px solid currentColor",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",marginRight:"10px",flexGrow:1,textTransform:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"110px","&:hover":{backgroundColor:"rgb(197, 231, 197)"}},children:"All"})]})}),(0,n.jsx)(X.default,{id:E?"simple-popover":void 0,open:E,anchorEl:v,onClose:()=>{C(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,n.jsx)(H.A,{onSubmit:e=>{C(null),t(e)}})})]})};var V=i(51267),q=i(25641),$=i(45185),J=i(94222),Z=i(62207),Q=i(95671),ee=i(88867);let et=()=>{let{params:e}=(0,d.KU)(),t=e.id,{notes:i,refresh:r}=(0,$.G)(t),{selectedVisit:a}=(0,M.E)(),[c,x]=(0,s.useState)("All"),[g,h]=(0,s.useState)(!1),[u,f]=(0,s.useState)(!1),[m,S]=(0,s.useState)(!1),[b,A]=(0,s.useState)(!1),[j,y]=(0,s.useState)(!1),v=(0,s.useRef)(null),C=(0,s.useRef)(null),E=(0,s.useRef)(null),I=(0,s.useRef)(null),{handleSubmit:w}=(0,d.li)(o.fA.CLINICAL_NOTES,()=>""),D=(0,J.useReactToPrint)({contentRef:v}),N=e=>{var i;let{data:n,isLoading:o}=(0,T.$O)(t,"encounter_type=".concat(e,"&visit=").concat(null==a?void 0:a.uuid));return n&&(null==(i=n[0])?void 0:i.obs)||[]},F=()=>{console.log("PDF generated successfully!")},O=(e=>[{title:"Continuation Notes",content:(0,n.jsx)(Y,{obs:e(o.fA.CLINICAL_NOTES)})},{title:"Triage Information",content:[(0,L.J0)(e(o.fA.PRESENTING_COMPLAINTS)),...(0,L.l2)([...e(o.fA.VITALS),...e(o.fA.TRIAGE_RESULT)])]},{title:"Soapier Notes",content:(0,L.Wm)(e(o.fA.NURSING_CARE_NOTES))},{title:"Primary Survey",content:(0,L.I2)({airwayObs:e(o.fA.AIRWAY_ASSESSMENT),breathingObs:e(o.fA.BREATHING_ASSESSMENT),circulationObs:e(o.fA.CIRCULATION_ASSESSMENT),disabilityObs:e(o.fA.PRIMARY_DISABILITY_ASSESSMENT),exposureObs:e(o.fA.EXPOSURE_ASSESSMENT)})},{title:"Secondary Survey",content:(0,L.ml)({generalInformationObs:e(o.fA.GENERAL_INFORMATION_ASSESSMENT),headAndNeckObs:e(o.fA.HEAD_AND_NECK_ASSESSMENT),chestObs:e(o.fA.CHEST_ASSESSMENT),abdomenAndPelvisObs:e(o.fA.ABDOMEN_AND_PELVIS_ASSESSMENT),extremitiesObs:e(o.fA.EXTREMITIES_ASSESSMENT),neurologicalObs:e(o.fA.NEUROLOGICAL_EXAMINATION_ASSESSMENT)})},{title:"Patient Management Plan",content:(0,L.l3)({nonPharmalogical:e(o.fA.NON_PHARMACOLOGICAL)})},{title:"Diagnosis",content:(0,L.K8)([...e(o.fA.OUTPATIENT_DIAGNOSIS),...e(o.fA.DIAGNOSIS)])},{title:" Laboratory or Radiology Findings",content:(0,n.jsx)(B.A,{title:"Beside Tests",data:(0,L.qm)(e(o.fA.BED_SIDE_TEST))})},{title:"Sample History",content:(0,n.jsx)(p.default,{sx:{display:"flex",flexDirection:"column",gap:3},children:[{type:o.fA.PRESENTING_COMPLAINTS,title:"-Presenting Complaints",config:W.k.PRESENTING_COMPLAINTS},{type:o.fA.ALLERGIES,title:"-Allergies",config:W.k.ALLERGIES},{type:o.fA.PRESCRIPTIONS,title:"-Medications",config:W.k.MEDICATIONS},{type:o.fA.DIAGNOSIS,title:"Prior/existing conditions",config:W.k.DIAGNOSIS},{type:o.fA.SURGICAL_HISTORY,title:"-Surgical History",config:W.k.SURGICAL_HISTORY},{type:o.fA.PATIENT_ADMISSIONS,title:"-Previous Admissions",config:W.k.ADMISSIONS},{type:o.fA.SUMMARY_ASSESSMENT,title:"-Last Meal",config:W.k.LAST_MEAL},{type:o.fA.FAMILY_MEDICAL_HISTORY,title:"-Family Medical History",config:W.k.FAMILY_HISTORY}].map(t=>(0,n.jsx)(W.$,{data:e(t.type),title:t.title,config:t.config},t.type))})},{title:"Disposition Notes",content:(0,L.rJ)([...e(o.fA.DISPOSITION),...e(o.fA.AWAITING_SPECIALTY)])}])(N).filter(e=>g?"Soapier Notes"===e.title:u?"Continuation Notes"===e.title||"Triage Information"===e.title||"Primary Survey"===e.title||"Secondary Survey"===e.title||"Patient Management Plan"===e.title||"Diagnosis"===e.title||"Investigation Plans"===e.title:m?"Surgical Notes"===e.title:b?"Gyneacology"===e.title:!j||"Medical Inpatient"===e.title);return(0,n.jsxs)(_.Z,{title:"",children:[(0,n.jsx)(l.jD,{display:"flex",justifyContent:"space-between",children:(0,n.jsx)(K,{onAddNote:e=>{let{ServerTime:t}=(0,q.useServerTime)();w((0,V.gX)({"Clinical notes construct":e},t.getServerTimeString())).then(()=>r())},filterSoapierState:g,filterAETCState:u,filterSurgicalState:m,filterGyneacologyState:b,filterMedicalInpatientState:j,setFilterSoapierState:h,setFilterAETCState:f,setFilterSurgicalState:S,setFilterGyneacologyState:A,setFilterMedicalInpatientState:y,onDownload:()=>{m&&C.current?C.current.generatePDF():b&&E.current?E.current.generatePDF():j&&I.current?I.current.generatePDF():D()},surgicalData:{title:"Surgical Notes",data:[...N(o.fA.SURGICAL_NOTES_TEMPLATE_FORM)],removeObs:[]},gyneacologyData:{title:"Gyneacology",data:[...N(o.fA.GYNEACOLOGY_WARD)],removeObs:[]},medicalInpatientData:{title:"Medical Inpatient",data:[...N(o.fA.MEDICAL_IN_PATIENT)],removeObs:[]},onClickFilterButton:x})}),!m&&!b&&!j&&(0,n.jsxs)("div",{ref:v,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.TF,{}),(0,n.jsxs)("div",{style:{paddingTop:"10px"},children:[(0,n.jsxs)("p",{style:{marginLeft:"10px"},children:["Report type: ",c]}),(0,n.jsx)("div",{style:{fontWeight:700,fontSize:"20px",textAlign:"center"},children:"Clinical Notes"})]})]}),(0,n.jsx)(G,{columns:2,data:O})]}),m&&(0,n.jsx)(ee.r,{ref:C,onPrintComplete:F,showPreview:!0}),b&&(0,n.jsx)(Z.k,{ref:E,onPrintComplete:F,showPreview:!0}),j&&(0,n.jsx)(Q.I,{ref:I,onPrintComplete:F,showPreview:!0})]})};function ei(e){let{children:t,value:i,index:o,...r}=e;return(0,n.jsx)("div",{role:"tabpanel",hidden:i!==o,id:"simple-tabpanel-".concat(o),"aria-labelledby":"simple-tab-".concat(o),...r,children:i===o&&(0,n.jsx)(p.default,{sx:{pt:1},children:t})})}let en=()=>{let[e,t]=(0,s.useState)(0);return(0,n.jsxs)(p.default,{sx:{width:"100%",mt:2,pb:2},children:[(0,n.jsx)(p.default,{sx:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f4f4f4",borderRadius:"4px 4px 0 0",marginRight:"2px",borderBottom:"none"},children:(0,n.jsxs)(N.A,{value:e,onChange:(e,i)=>{t(i)},sx:{overflow:"scroll",width:"100%","& .MuiTabs-flexContainer":{justifyContent:"space-evenly",overflow:"scroll"}},children:[(0,n.jsx)(F.A,{label:"Monitoring Chart",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:0===e?"#DDEEDD":"#FFFFFF",fontWeight:0===e?"bold":"normal",borderBottom:"none",marginRight:"2px",borderRight:"none","&:last-child":{borderRight:"1px solid #ccc"}}}),(0,n.jsx)(F.A,{label:"Clinical Notes",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:1===e?"#DDEEDD":"#FFFFFF",fontWeight:1===e?"bold":"normal",borderBottom:"none",marginRight:"2px",borderRight:"none","&:last-child":{borderRight:"1px solid #ccc"}}}),(0,n.jsx)(F.A,{label:"Investigations",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:2===e?"#DDEEDD":"#FFFFFF",fontWeight:2===e?"bold":"normal",borderBottom:"none",marginRight:"2px",borderRight:"none","&:last-child":{borderRight:"1px solid #ccc"}}}),(0,n.jsx)(F.A,{label:"Medications",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:3===e?"#DDEEDD":"#FFFFFF",fontWeight:3===e?"bold":"normal",borderBottom:"none"}}),(0,n.jsx)(F.A,{label:"Results",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:4===e?"#DDEEDD":"#FFFFFF",fontWeight:4===e?"bold":"normal",borderBottom:"none",marginRight:"2px",borderRight:"none","&:last-child":{borderRight:"1px solid #ccc"}}}),(0,n.jsx)(F.A,{label:"Diagnosis",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:5===e?"#DDEEDD":"#FFFFFF",fontWeight:5===e?"bold":"normal",borderBottom:"none",marginRight:"2px",borderRight:"none","&:last-child":{borderRight:"1px solid #ccc"}}}),(0,n.jsx)(F.A,{label:"Visit History",sx:{flexGrow:1,textTransform:"none",padding:"12px",background:6===e?"#DDEEDD":"#FFFFFF",fontWeight:6===e?"bold":"normal",borderBottom:"none",marginRight:"2px",borderRight:"none","&:last-child":{borderRight:"1px solid #ccc"}}})]})}),(0,n.jsx)(ei,{value:e,index:0,children:(0,n.jsx)(O.Cp,{})}),(0,n.jsx)(ei,{value:e,index:1,children:(0,n.jsx)(et,{})}),(0,n.jsx)(ei,{value:e,index:2,children:(0,n.jsx)(O.sK,{})}),(0,n.jsx)(ei,{value:e,index:3,children:(0,n.jsx)(O.DQ,{})}),(0,n.jsx)(ei,{value:e,index:4,children:(0,n.jsx)(O.nB,{})}),(0,n.jsx)(ei,{value:e,index:5,children:(0,n.jsx)(k,{})}),(0,n.jsx)(ei,{value:e,index:6,children:(0,n.jsx)(O.sJ,{})})]})};var eo=i(5387);function er(){let{patientId:e}=(0,d.gd)(),{data:t}=(0,eo.iu)(e),[i,o]=(0,s.useState)([]),{visitDate:r,setVisitDates:l,setSelectedVisit:a}=(0,M.E)();return(0,s.useEffect)(()=>{if((null==t?void 0:t.length)>0){let s=[...t.map(e=>({visit_id:e.visit_id,date_started:e.date_started,uuid:e.uuid}))].sort((e,t)=>new Date(t.date_started).getTime()-new Date(e.date_started).getTime());if(o(s),null===r&&s.length>0){var e,i,n;l(null==(e=s[0])?void 0:e.date_started),a({id:null==(i=s[0])?void 0:i.visit_id,uuid:null==(n=s[0])?void 0:n.uuid})}}},[t,r]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:i.map(e=>(0,n.jsx)(g.A,{onClick:()=>{a({id:e.visit_id,uuid:e.uuid}),l(null==e?void 0:e.date_started)},size:"large",style:{width:"100%",backgroundColor:e.date_started===r?"#DDEEDD":"",marginBottom:"8px"},variant:"outlined",children:(e=>{let t=new Date(e),i=t.getDate(),n=t.toLocaleString("en-US",{month:"short"}),o=t.getFullYear(),r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return"".concat(i," ").concat(n,", ").concat(o," (").concat(r,")")})(e.date_started)},e.visit_id))})})}let el=()=>{let{hasActiveVisit:e,recentVisitCloseDateTime:t,isLoading:i,isSuccess:o}=(0,d.gd)(),[r,c]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{setTimeout(()=>{c(!0)},1e3)},[]),(0,n.jsxs)(M.VisitDatesProvider,{children:[r&&!1===e&&(0,n.jsx)(p.default,{sx:{width:"100%",backgroundColor:"#FF2400",textAlign:"center",color:"white",padding:"10px"},children:(0,n.jsxs)(h.default,{children:["This patient doesnt have an active visit."," ",t?"The most recent visit was closed on ".concat((0,z.rX)(t)):null," "]})}),(0,n.jsxs)(l.Yr,{container:!0,style:{justifyContent:"center",marginTop:"15px",gap:"15px",margin:"5px",width:"unset"},children:[(0,n.jsxs)(l.Yr,{item:!0,lg:2.2,sm:12,children:[(0,n.jsx)(a.XU,{}),(0,n.jsx)("br",{}),(0,n.jsx)(er,{})]}),(0,n.jsxs)(l.Yr,{item:!0,lg:8.5,sm:12,style:{minWidth:"300px"},children:[(0,n.jsx)(w,{}),(0,n.jsx)(en,{})]})]})]})},ea=(0,r.A)(function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(el,{})})},[o.Ot.CLINICIAN,o.Ot.ADMIN,o.Ot.NURSE,o.Ot.STUDENT_CLINICIAN])},41186:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});var n=i(95155),o=i(93584),r=i(87295),l=i(12115),a=i(75855),s=i(72478),d=i(15239),c=i(9877);function x(e,t){return function(i){let[s,d]=(0,l.useState)(!1),{navigateTo:x}=(0,r.cq)();(0,l.useLayoutEffect)(()=>{if(localStorage)if(localStorage.getItem("accessToken")){let e=localStorage.getItem("loginTime");if(e){let t=parseInt(e);if(Math.floor((new Date().getTime()-t)%36e5/6e4)>60){d(!1),x("/"),localStorage.clear();return}}d(!0)}else d(!1),localStorage.clear(),x("/")},[]);let g=(0,a.R)(t,(0,c.O)());return s?g?(0,n.jsx)(e,{...i}):(0,n.jsx)(p,{}):(0,n.jsx)(o.OverlayLoader,{open:!s})}}let p=()=>(0,n.jsx)(s.jD,{sx:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:(0,n.jsx)(d.default,{src:"/403.jpg",height:500,width:500,alt:"403"})})},75144:(e,t,i)=>{Promise.resolve().then(i.bind(i,2544))}},e=>{e.O(0,[9503,6172,16,9344,8250,2225,3740,8320,3349,9306,5263,7776,3497,9906,4124,2891,1412,4240,5068,6223,2619,2502,3002,4816,6360,7774,2478,4008,5832,9625,3890,7e3,5008,7285,6511,8371,1226,45,6520,8441,1255,7358],()=>e(e.s=75144)),_N_E=e.O()}]);